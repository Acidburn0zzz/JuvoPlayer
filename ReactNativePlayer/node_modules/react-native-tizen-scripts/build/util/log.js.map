{"version":3,"sources":["log.js"],"names":["log","args","Array","prototype","slice","call","arguments","respectProgressBars","withTimestamp","prefix","dim","Date","toLocaleDateString","concat","_bundleProgressBar","setBundleprogressBar","bundleProgressBar","commitLogs","terminate","lastDraw","render"],"mappings":";;;;;;;;;;AAEA;;;;;;AAEA,SAASA,GAAT,GAAe;AACX,QAAMC,OAAOC,MAAMC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BC,SAA3B,EAAsC,CAAtC,CAAb;;AAEAC,wBAAqB,YAAM;AAAA;;AACvB,6BAAQP,GAAR,kDAAeC,IAAf;AACH,KAFD;AAGH;;AAEDD,IAAIQ,aAAJ,GAAoB,YAAY;AAC5B,QAAMC,SAAS,gBAAMC,GAAN,CAAU,IAAIC,IAAJ,GAAWC,kBAAX,EAAV,IAA6C,GAA5D;AACA,QAAMX,OAAO,CAACQ,MAAD,EAASI,MAAT,CAAgBX,MAAMC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BC,SAA3B,EAAsC,CAAtC,CAAhB,CAAb;;AAEAC,wBAAoB,YAAM;AAAA;;AACtB,8BAAQP,GAAR,mDAAeC,IAAf;AACH,KAFD;AAGH,CAPD;;AASA,IAAIa,2BAAJ;AACAd,IAAIe,oBAAJ,GAA2B,UAASC,iBAAT,EAA4B;AACnDF,yBAAqBE,iBAArB;AACH,CAFD;;AAIA,SAAST,mBAAT,CAA6BU,UAA7B,EAAyC;AACrC,QAAIH,kBAAJ,EAAwB;AACpBA,2BAAmBI,SAAnB;AACAJ,2BAAmBK,QAAnB,GAA8B,EAA9B;AACAF;AACAH,2BAAmBM,MAAnB;AACH,KALD,MAKO;AACHH;AACH;AACJ;;kBAEcjB,G","file":"log.js","sourcesContent":["// @flow\n\nimport chalk from 'chalk';\n\nfunction log() {\n    const args = Array.prototype.slice.call(arguments, 0);\n\n    respectProgressBars( () => {\n        console.log(...args);\n    });\n}\n\nlog.withTimestamp = function () {\n    const prefix = chalk.dim(new Date().toLocaleDateString()) + ':';\n    const args = [prefix].concat(Array.prototype.slice.call(arguments, 0));\n\n    respectProgressBars(() => {\n        console.log(...args);\n    });\n};\n\nlet _bundleProgressBar;\nlog.setBundleprogressBar = function(bundleProgressBar) {\n    _bundleProgressBar = bundleProgressBar;\n}\n\nfunction respectProgressBars(commitLogs) {\n    if (_bundleProgressBar) {\n        _bundleProgressBar.terminate();\n        _bundleProgressBar.lastDraw = '';\n        commitLogs();\n        _bundleProgressBar.render();\n    } else {\n        commitLogs();\n    }\n}\n\nexport default log;\n\n"]}